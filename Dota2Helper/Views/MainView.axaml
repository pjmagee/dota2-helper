<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:vm="clr-namespace:Dota2Helper.ViewModels"
             xmlns:core="clr-namespace:Dota2Helper.Core"
             mc:Ignorable="d"
             Background="Black" 
             Opacity="{Binding Opacity}"
             d:DataContext="{x:Static core:DesignData.MainViewModel}"
             x:Class="Dota2Helper.Views.MainView"
             x:DataType="vm:MainViewModel">
    <StackPanel Orientation="Vertical">
       <DockPanel>
           <Button Click="Button_OnClickExit" Foreground="Red" HorizontalContentAlignment="Left" DockPanel.Dock="Right">
               <TextBlock Text="❌" />
           </Button>
           <Button HorizontalContentAlignment="Left" DockPanel.Dock="Left" x:Name="Move">
               <Panel>
                   <PathIcon Data="{StaticResource arrow_move_regular}" />
               </Panel>
            </Button>
           <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" DockPanel.Dock="Right">
               <Slider x:Name="OpacitySlider" Width="50" HorizontalAlignment="Center" Value="{Binding Opacity}" Minimum="0.25" Maximum="1.0" />
               <TextBlock Text="{Binding Path=Opacity, StringFormat=0.#}" HorizontalAlignment="Center" Margin="15" />
           </StackPanel>
           <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" DockPanel.Dock="Right">
               <Panel Margin="5,0">
                   <PathIcon IsVisible="{Binding IsSpeakerMuted}" Data="{DynamicResource speaker_off_regular}" />
                   <PathIcon IsVisible="{Binding IsSpeakerOn}" Data="{DynamicResource speaker_regular}" />
               </Panel>
               <Slider x:Name="Slider" Width="50" HorizontalAlignment="Center" Value="{Binding Volume}" />
               <TextBlock Text="{Binding #Slider.Value, StringFormat={}{0:0}}" HorizontalAlignment="Center" Margin="15" />
           </StackPanel>
       </DockPanel>
       <ItemsControl ItemsSource="{Binding Path=Timers}" >
           <ItemsControl.DataTemplates>
               <DataTemplate DataType="core:DotaTimer">
                  <StackPanel Orientation="Horizontal">
                      
                      <TextBlock 
                          Foreground="White" 
                          Width="100" 
                          Margin="4, 2" 
                          Padding="0" 
                          Text="{Binding Path=Label}" 
                          TextAlignment="Right" 
                          Opacity="1"
                          FontWeight="Bold" />
                      
                      <TextBlock
                          Width="45" 
                          Margin="2, 2" 
                          Padding="0"
                          Text="{Binding Path=TimeRemaining, StringFormat=mm\\:ss}" 
                          FontWeight="Bold" 
                          Opacity="1"
                          Foreground="{Binding TimerColor}" />
                      
                      <ToggleButton 
                          Width="40"
                          Margin="2, 2" 
                          Padding="2" IsChecked="{Binding Mode=TwoWay, Path=IsSoundEnabled}">
                          <Panel>
                              <PathIcon Classes="audio-on" Data="{StaticResource speaker_regular}" />
                              <PathIcon Classes="audio-mute" Data="{StaticResource speaker_off_regular}" />
                          </Panel>
                      </ToggleButton>
                      
                      <Button 
                          Width="40" 
                          Padding="2"
                          IsVisible="{Binding Mode=OneWay, Path=IsManualReset}" Command="{Binding Reset}">
                          <Panel>
                              <PathIcon Data="{StaticResource timer_10_regular}" />
                          </Panel>
                      </Button>
                      <NumericUpDown Margin="1, 1"
                                     Width="20"
                                     ShowButtonSpinner="False"
                                     VerticalContentAlignment="Center" 
                                     HorizontalContentAlignment="Center"
                                     Value="{Binding ReminderInSeconds, Mode=TwoWay}" 
                                     Increment="1" 
                                     Minimum="5" AllowSpin="True"
                                     Maximum="60"
                                     ParsingNumberStyle="Integer">
                      </NumericUpDown>
                  </StackPanel>
               </DataTemplate>
           </ItemsControl.DataTemplates>
       </ItemsControl>
   </StackPanel>
    
</UserControl>
